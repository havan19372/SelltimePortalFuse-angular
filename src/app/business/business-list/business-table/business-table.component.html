<div class="row" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="onScroll()" [scrollWindow]="false"
    style="height: 400px; overflow-y: scroll;">
    
    <mat-table class="business-table" #table [dataSource]="dataSource" matSort [@animateStagger]="{value:'50'}" fusePerfectScrollbar>
      <!-- Image Column -->
      <ng-container cdkColumnDef="image">
        <mat-header-cell *cdkHeaderCellDef></mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
          <img class="product-image" *ngIf="Business.logo" [alt]="Business.name" [src]="imageUrl+Business.logo" />
          <img *ngIf="!Business.logo" [src]="'assets/images/ecommerce/product-image-placeholder.png'">
        </mat-cell>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container cdkColumnDef="name">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Name</mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
          <p class="text-truncate">{{Business.name}}</p>
        </mat-cell>
      </ng-container>
      <!-- Name Column -->
      <ng-container cdkColumnDef="contact">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Contact</mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
            <p *ngIf="Business.contact">{{Business.contact.firstName}}</p>
        </mat-cell>
      </ng-container>
      <!-- email Column -->
      <ng-container cdkColumnDef="email">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Email</mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
            <p *ngIf="Business.contact">{{Business.contact.email}}</p>
        </mat-cell>
      </ng-container>
      
    <!--Phone number-->
      <ng-container cdkColumnDef="tel">
          <mat-header-cell *cdkHeaderCellDef mat-sort-header>Phone Number</mat-header-cell>
          <mat-cell *cdkCellDef="let Business">
              <p *ngIf="Business.contact">{{Business.contact.tel}}</p>
          </mat-cell>
        </ng-container>
    
      <ng-container cdkColumnDef="address">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Address</mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
          <p>{{ Business.fullAddresss }}</p>
        </mat-cell>
      </ng-container>
      <ng-container cdkColumnDef="showOnWebsite">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Show On Website</mat-header-cell>
        <mat-cell *cdkCellDef="let Business">
          <p class="text-truncate">{{Business.contact?.showOnWebsite == true ? 'Yes' : 'No'}}</p>
        </mat-cell>
      </ng-container>
      <ng-container cdkColumnDef="options" >
        <mat-header-cell *cdkHeaderCellDef mat-sort-header fxHide fxShow.gt-xs>
          <mat-icon class="mat-18">equalizer</mat-icon>
        </mat-header-cell>
        <mat-cell *cdkCellDef="let Business" fxHide fxShow.gt-xs >
          <mat-icon (click)="newBusiness(Business.id)" matTooltip="Edit Business" class="accent-500-fg">edit</mat-icon>
          <!-- <mat-icon (click)="deleteProduct(product)" matTooltip="Delete Product"  class="warn-500-fg">delete</mat-icon> -->
        </mat-cell>
      </ng-container>
      <mat-header-row *cdkHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *cdkRowDef="let Business; columns: displayedColumns;" class="product" matRipple>
      </mat-row>
    
    </mat-table>
</div>

<!--
<mat-paginator [length]="businessLength" [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10">
</mat-paginator>

-->
